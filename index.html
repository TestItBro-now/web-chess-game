<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Chess Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Web Chess Game</h1>
  <div id="status"></div>
  <div id="game-container">
    <!-- Board wrapper holds the controls along the top and the chessboard below.  The
         controls remain aligned above the board regardless of how long the move list
         becomes. -->
    <div id="board-wrapper">
      <div id="controls">
        <!-- Each control button uses a small icon instead of text.  The icons are
             stored in the icons/ directory and will be uploaded to the repository. -->
        <!-- Icons are stored in the repository root.  Reference them directly
             without the icons/ prefix. -->
        <button id="undo-btn" title="Undo last move" class="control-btn"><img src="undo.png" alt="Undo"></button>
        <button id="redo-btn" title="Redo move" class="control-btn"><img src="redo.png" alt="Redo"></button>
        <button id="reset-btn" title="Start a new game" class="control-btn"><img src="reset.png" alt="Reset"></button>
        <button id="flip-btn" title="Flip board orientation" class="control-btn"><img src="flip.png" alt="Flip"></button>
        <button id="threat-btn" title="Toggle opponent threats" class="control-btn"><img src="threat.png" alt="Threats"></button>
      </div>
      <div id="board"></div>
      <!-- SVG overlay for threat arrows.  Placing this element directly
           in the DOM ensures it is available immediately for
           updateThreatOverlay() to draw into.  The overlay is
           absolutely positioned via CSS to cover the board.  It
           remains empty until arrows are drawn. -->
    </div>
    <!-- Move list container sits to the right of the board on wider screens and
         below the board on narrow screens.  It no longer contains the undo
         button since undo/redo controls now live above the board. -->
    <div id="move-list-container">
      <h2>Moves</h2>
      <ol id="move-list"></ol>
    </div>
  </div>

<!-- Load chess.js v1.4.0 and expose Chess globally -->
<script type="module">
  import { Chess } from 'https://cdn.jsdelivr.net/npm/chess.js@1.4.0/dist/esm/chess.js';
  window.Chess = Chess;
</script>

<!-- Load your game logic after the module has defined window.Chess -->
<script src="app_ai.js" defer></script>
</body>
</html>
